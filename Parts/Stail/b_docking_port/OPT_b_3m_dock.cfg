PART
{
	// --- general parameters ---
	name = b_docking_port
	module = Part
	author = K.Yeon
	tags = stail opt


	// --- asset parameters ---
	scale = 1
	rescaleFactor = 1

	MODEL
	{
		model = OPT/Parts/Stail/b_docking_port/OPT_b_3m_dock
	}


	// --- node definitions ---
	node_stack_top = 0.0, 1.2, 0.0, 0.0, 1.0, 0.0, 4
	node_stack_bottom = 0.0, -1.2, 0.0, 0.0, -1.0, 0.0, 4
	node_attach = 2.4, 0.0, 0.0, 0.0, 0.0, 0.0, 2
	
	
	// --- editor parameters ---
	TechRequired = metaMaterials
	entryCost = 15800
	cost = 1500
	category = Utility
	subcategory = 0
	title = OPT 'Stail' Class Inline Docking Port
	manufacturer = OPT Aerospace Division
	description = The docking port is designed so it can fit both small 1.25m clamp-o-trons and the 2.5m clamp-o-trons. Ingenious!


	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision	
	attachRules = 1,1,1,1,0

	
	// --- standard part parameters ---
	mass = 2
	dragModelType = default
	crashTolerance = 18
	breakingForce = 300
	breakingTorque = 600
	fuelCrossFeed = True
	maxTemp = 2800
	thermalMassModifier = 4.0
	emissiveConstant = 0.87
	bulkheadProfiles = Stail
	
	MODULE
	//standard for 4m J fuselage: LiftCoe = 2.5 MaxAoADrag = 1 MinAoADrag = 0.2 Mass = 1.5
	{
		name = ModuleLiftingSurface
		useInternalDragModel=False
		deflectionLiftCoeff = 2
		dragAtMaxAoA = 0.8
		dragAtMinAoA = 0.2
	}

	MODULE
	{
		name = ModuleDockingNode
		deployAnimationController = 3
		nodeType = size2
		nodeTransformName = DockingNode_main
		controlTransformName = CtrlNode
		staged = False
		stagingEnabled = False
	}
	
	MODULE
	{
		name = ModuleDockingNode
		deployAnimationController = 4	
		nodeType = size1
		nodeTransformName = DockingNode
		controlTransformName = CtrlNode
		staged = False
		stagingEnabled = False
	}
	
	MODULE
	{
		name = ModuleAnimateGeneric
		animationName = deploy_dock
		animSpeed = 2
		startEventGUIName = Open
		endEventGUIName = Close
		toggleActionName = Toggle Docking Port
		startDeployed = False
	}
	
	MODULE
	{
		name = ModuleAnimateGeneric
		animationName = deploy_small
		animSpeed = 1
		startEventGUIName = Extend Docking Port
		endEventGUIName = Retract Docking Port
		toggleActionName = Toggle Docking Port
		startDeployed = False
	}
	
	MODULE
	{
		name = FSfuelSwitch
		resourceNames = Structural;LiquidFuel;LiquidFuel,Oxidizer;MonoPropellant
		resourceAmounts = 0;800;360,440;1000
		basePartMass = 2
		tankMass = 0;0;0;0
		tankCost = 0;0;0;0
		displayCurrentTankCost = false
		hasGUI = true
		showInfo = true
	}
}

@PART[b_docking_port]:NEEDS[!Firespitter,!RealFuels,!ModularFuelTanks]
{
	RESOURCE
	{
		name = MonoPropellant
		amount = 1000
		maxAmount = 1000
	}
}